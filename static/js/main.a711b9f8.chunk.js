(this["webpackJsonpsplitwise-clone"]=this["webpackJsonpsplitwise-clone"]||[]).push([[0],{105:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),a=r(84),l=r(20),o=r.n(l),c=r(86),i=r(19),u=function(e,t){var r=JSON.parse(JSON.stringify(e)),s=t.expense_obj.borrower,n=t.expense_obj.currentUser,a=parseInt(t.expense_obj.currentUserShare),l=parseInt(t.expense_obj.borrowerShare),o=null,c=null,i=0;if("Split How?"!==t.expense_obj.splitHow)if(o=r[s].neighbours,c=r[n].neighbours,"0"!==t.expense_obj.currentUserOwed){var u=parseInt(t.expense_obj.currentUserOwed);s in c?u>parseInt(c[s])?(i=u-parseInt(c[s]),o[n]=i.toString(),delete c[s]):u===parseInt(c[s])?delete c[s]:(i=parseInt(c[s])-u,c[s]=i.toString()):o[n]=n in o?(parseInt(o[n])+u).toString():u.toString()}else n in o?l>parseInt(o[n])?(i=l-parseInt(o[n]),delete o[n],c[s]=i.toString()):l<parseInt(o[n])?(i=parseInt(o[n])-l,o[n]=i.toString()):delete o[n]:c[s]=((isNaN(parseInt(c[s]))?0:parseInt(c[s]))+l).toString();return r[n].tExpense=(parseInt(r[n].tExpense)+a).toString(),r},p=function(e,t){var r=JSON.parse(JSON.stringify(e)),s=t.expense_obj.groupUserList,n=t.expense_obj.groupSplitMethod,a=null,l=0;a="Equally"===n||"Group owes the entire amount equally"===n?s.map((function(){return t.expense_obj.eqBorrowerShare})):t.expense_obj.borrowerShareArr;var o=t.expense_obj.currentUser,c=parseInt(t.expense_obj.currentUserShare),i=r[o].neighbours;return s.forEach((function(e,t){var s=r[e].neighbours;o in s?parseInt(a[t])>parseInt(s[o])?(l=parseInt(a[t])-parseInt(s[o]),delete s[o],i[e]=l.toString()):parseInt(a[t])<parseInt(s[o])?(l=parseInt(s[o])-parseInt(a[t]),s[o]=l.toString()):delete s[o]:i[e]=((isNaN(parseInt(i[e]))?0:parseInt(i[e]))+parseInt(a[t])).toString()})),r[o].tExpense=(parseInt(r[o].tExpense)+c).toString(),r},h=function(e,t){var r=JSON.parse(JSON.stringify(e)),s=t.expense_obj.borrower,n=t.expense_obj.lender,a=parseInt(t.expense_obj.currentSettleAmt),l=parseInt(t.expense_obj.totalSettleAmt);return a<l?r[n].neighbours[s]=(l-a).toString():delete r[n].neighbours[s],r},d=function(e,t){var r=JSON.parse(JSON.stringify(e)),s=t.expense_obj.borrower;return delete r[t.expense_obj.lender].neighbours[s],r},j=function(e,t){var r=JSON.parse(JSON.stringify(e));for(var s in delete r[t.delete_username],r)t.delete_username in r[s].neighbours&&delete r[s].neighbours[t.delete_username];return r},b={Hrishabh:{neighbours:{TejPrakash:"1500"},tExpense:"10000"},Partha:{neighbours:{Hrishabh:"6000",TejPrakash:"5000"},tExpense:"10000"},TejPrakash:{neighbours:{Prabhakar:"7000"},tExpense:"10000"}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addUser":return e[t.key]={tExpense:"0",neighbours:{}},e;case"update_expense":return u(e,t);case"update_group_expense":return p(e,t);case"delete_user":return j(e,t);case"settle_due":return h(e,t);case"settle_due_all":return d(e,t);default:return e}},O=(r(97),r(12)),S=r(13),g=r(15),m=r(14),f=r(8),w=r(110),v=r(74),y=r(73),C=r.n(y),U=r(1),I=function(e){return Object(U.jsx)(n.a.Fragment,{children:Object(U.jsx)(v.a,{fluid:!0,children:Object(U.jsx)(w.a,{children:Object(U.jsx)("h1",{className:C.a.headings,children:"Splitwise-Clone"})})})})},H=r(75),_=r(35),k=r.n(_),F=r(115),E=function(e){return Object(U.jsxs)(F.a,{show:e.show,onHide:e.handleClose,children:[Object(U.jsx)(F.a.Header,{closeButton:!0,children:Object(U.jsx)(F.a.Title,{children:e.title})}),Object(U.jsx)(F.a.Body,{children:e.children}),Object(U.jsx)(F.a.Footer,{children:Object(U.jsx)(H.a,{variant:"primary",onClick:e.handleClose,children:"Close"})})]})},N=n.a.memo(E),L=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(e){var s;Object(O.a)(this,r),(s=t.call(this,e)).addUserOnClickHandler=function(){s.props.history.push("/addUser")},s.seeUserDetailsHandler=function(){s.props.history.push("/userDetails")},s.addExpenseHandler=function(){s.props.history.push("/addExpense")},s.searchUserHandler=function(){s.props.history.push("/searchUser")},s.settleUpHandler=function(){s.props.history.push("/settleUp")},s.deleteUserHandler=function(){s.props.history.push("/deleteUser")},s.onModalCloseHandler=function(){s.setState({showModal:!1})};var n=!1;return void 0!==s.props.history.prev&&(n=!0),s.state={showModal:n},delete s.props.history.prev,s}return Object(S.a)(r,[{key:"render",value:function(){return Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsx)(N,{show:this.state.showModal,title:"User created.",handleClose:this.onModalCloseHandler,children:" The user was created successsfully. "}),Object(U.jsx)(I,{})," ",Object(U.jsx)(H.a,{onClick:this.addUserOnClickHandler,style:{marginTop:"120px"},className:k.a.button,variant:"primary",size:"lg",block:!0,children:"Add User"}),Object(U.jsx)(H.a,{onClick:this.seeUserDetailsHandler,className:k.a.button,variant:"primary",size:"lg",block:!0,children:"View all users"}),Object(U.jsx)(H.a,{onClick:this.searchUserHandler,className:k.a.button,variant:"primary",size:"lg",block:!0,children:"Search User"}),Object(U.jsx)(H.a,{onClick:this.deleteUserHandler,className:k.a.button,variant:"primary",size:"lg",block:!0,children:"Delete User"}),Object(U.jsx)(H.a,{onClick:this.addExpenseHandler,className:k.a.button,variant:"primary",size:"lg",block:!0,children:"Add Expense"}),Object(U.jsx)(H.a,{onClick:this.settleUpHandler,className:k.a.button,variant:"primary",size:"lg",block:!0,children:"Settle-Up"})]})}}]),r}(s.Component),M=Object(f.g)(L),G=r(71),A=r.n(G),V=r(116),R=function(e){return Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsx)("h3",{className:A.a.h3,children:"Enter the user's name"}),Object(U.jsx)(V.a.Group,{className:A.a.input,children:Object(U.jsx)(V.a.Control,{onChange:e.onChangeFunc,size:"lg",type:"text"})})]})},T=n.a.memo(R),z=r(78),B=r.n(z),P=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(O.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={inputVal:"",showModal:!1,userList:Object.keys(e.props.userGraph)},e.onChangeHandler=function(t){e.setState({inputVal:t.target.value})},e.localOnClickHandler=function(){var t=e.state.userList.map((function(e){return e.toLowerCase()})),r=e.state.inputVal.toLowerCase();-1===t.indexOf(r)?(e.props.onClickHandler(e.state.inputVal),e.props.history.prev="/addUser",e.props.history.push("/")):e.setState({showModal:!0})},e.onModalCloseHandler=function(){e.setState({showModal:!1})},e}return Object(S.a)(r,[{key:"render",value:function(){var e=this;return Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsx)(N,{show:this.state.showModal,title:"User not created",handleClose:this.onModalCloseHandler,children:" The user already exists. "}),Object(U.jsx)(T,{onChangeFunc:function(t){return e.onChangeHandler(t)}}),Object(U.jsx)(H.a,{onClick:this.localOnClickHandler,className:B.a.button,variant:"primary",size:"lg",block:!0,children:"Add"})," "]})}}]),r}(s.Component),q=Object(i.b)((function(e){return{userGraph:e}}),(function(e){return{onClickHandler:function(t){e({type:"addUser",key:t})}}}))(Object(f.g)(P)),W=r(87),J=r(117),D=r(118),Y=r.p+"static/media/logo-dark.ef20e673.png",Z=r(79),$=r.n(Z),K=function(e){var t=e.expList.map((function(e,t){return Object(U.jsx)(W.a,{children:e},t)}));return Object(U.jsx)(n.a.Fragment,{children:Object(U.jsxs)(J.a,{style:{width:"18rem"},className:$.a.card,children:[Object(U.jsx)(J.a.Img,{variant:"top",src:Y}),Object(U.jsxs)(J.a.Body,{children:[Object(U.jsx)(J.a.Title,{children:e.title}),Object(U.jsx)(J.a.Text,{children:e.text})]}),Object(U.jsx)(D.a,{className:"list-group-flush",children:t})]})})},Q=n.a.memo(K),X=r(111),ee=r(77),te=r(80),re=r.n(te),se=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){return Object(O.a)(this,r),t.apply(this,arguments)}return Object(S.a)(r,[{key:"render",value:function(){for(var e=this,t=Object.keys(this.props.userGraph),r=t.map((function(r,s){for(var n=e.props.userGraph[r.toString()].neighbours,a=Object.keys(n).map((function(e){return r+" has lent Rs "+n[e.toString()]+" to "+e})),l=[],o=0;o<t.length;o++){var c=t[o],i=e.props.userGraph[c.toString()].neighbours,u="";c!==r&&r in i&&(u=r+" has borrowed Rs "+i[r.toString()]+" from "+c,l.push(u))}var p=a.concat(l);return Object(U.jsx)("div",{children:Object(U.jsx)(Q,{expList:p,title:"Expense list for "+r,text:"Total individual expense: Rs "+e.props.userGraph[r.toString()].tExpense})},s)}));r.length%3!==0;)r.push("");var s,n,a,l=[];for(s=0,n=r.length;s<n;s+=3)a=r.slice(s,s+3),l.push(a);var o=l.map((function(e,t){return Object(U.jsx)(X.a,{className:re.a.row,children:e.map((function(e,t){return Object(U.jsx)(ee.a,{children:e},t)}))},t)}));return Object(U.jsx)("div",{children:o})}}]),r}(s.Component),ne=Object(i.b)((function(e){return{userGraph:e}}))(se),ae=r(26),le=r(9),oe=r(34),ce=r(85),ie=r(112),ue=r(81),pe=r.n(ue),he=function(e){var t=e.children.map((function(t){return Object(U.jsx)(ce.a.Item,{eventKey:t,onSelect:e.handleSelect,children:t},t)}));return Object(U.jsx)(ie.a,{id:"dropdown-basic-button",title:e.title,size:e.size,className:pe.a.dropdown,children:t})},de=n.a.memo(he),je=r(17),be=r.n(je),xe=r(113),Oe=r(76),Se=r(119),ge=["placement","arrowProps","show","popper"],me=["placement","arrowProps","show","popper"],fe=function(e){var t=Object(s.useRef)(null),r=Object(s.useRef)(null);return Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{children:Object(U.jsx)(de,{title:e.currentUser,handleSelect:e.handleSelectForUser,size:"lg",children:e.userList})}),Object(U.jsx)(ee.a,{children:Object(U.jsx)("h5",{className:be.a.para,children:"want's to split expense with"})}),Object(U.jsx)(ee.a,{children:Object(U.jsx)(de,{title:e.borrower,handleSelect:e.handleSelectForBorrower,size:"lg",children:e.userList})}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}),Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsxs)(ee.a,{children:[Object(U.jsx)(V.a.Label,{children:Object(U.jsx)("h5",{className:be.a.label,children:"Enter Expense:"})}),Object(U.jsxs)(xe.a,{style:{marginBottom:"10px"},className:"mb-2",children:[Object(U.jsx)(xe.a.Prepend,{children:Object(U.jsx)(xe.a.Text,{children:"Rs"})}),Object(U.jsx)(Oe.a,{className:be.a[e.classForExpenseInput],ref:t,id:"inlineFormInputGroup",onChange:e.onChangeHandler})]}),Object(U.jsx)(Se.a,{target:t.current,show:!!e.classForExpenseInput||null,placement:"right",children:function(e){e.placement,e.arrowProps,e.show,e.popper;var t=Object(oe.a)(e,ge);return Object(U.jsx)("div",Object(le.a)(Object(le.a)({},t),{},{style:Object(le.a)({backgroundColor:"rgba(255, 100, 100, 0.85)",padding:"2px 10px",color:"white",borderRadius:3},t.style),children:"Please enter a valid integer."}))}})]}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}),"No one"!==e.borrower?Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(de,{title:"Split Method",handleSelect:e.handleSelectForSplitter,size:"lg",children:["Equally","Manually","You owe the full amount",e.borrower+" owes the full amount"]}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}):null,!1!==e.showManualSplitter?Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsxs)(ee.a,{children:[Object(U.jsx)(V.a.Label,{children:Object(U.jsxs)("h5",{className:be.a.label,children:["Enter amount to be lent to ",e.borrower,":"]})}),Object(U.jsxs)(xe.a,{className:"mb-2",children:[Object(U.jsx)(xe.a.Prepend,{children:Object(U.jsx)(xe.a.Text,{children:"Rs"})}),Object(U.jsx)(Oe.a,{className:be.a[e.classForSharedInput],id:"inlineFormInputGroup",onChange:e.onChangeHandlerforManual,ref:r})]}),Object(U.jsx)(Se.a,{target:r.current,show:!!e.classForSharedInput||null,placement:"right",children:function(e){e.placement,e.arrowProps,e.show,e.popper;var t=Object(oe.a)(e,me);return Object(U.jsxs)("div",Object(le.a)(Object(le.a)({},t),{},{style:Object(le.a)({backgroundColor:"rgba(255, 100, 100, 0.85)",padding:"2px 10px",color:"white",borderRadius:3},t.style),children:["Please enter a valid integer and ",Object(U.jsx)("br",{}),"a value less than the total expense."]}))}})]}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}):null,Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(H.a,{disabled:!e.submitStatus,onClick:e.onClicked,className:be.a.button,variant:"primary",size:"lg",block:!0,children:"Submit"}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]})]})},we=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(O.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={splitHow:"Split How?",currentUser:"Who are you?",borrower:"No one",userList:Object.keys(e.props.userGraph),isExpenseInputValid:!1,isSharedInputValid:!1,total_expense:null,currentUserShare:"0",borrowerShare:"0",currentUserOwed:"0",showManualSplitter:!1},e.classForExpenseInput=null,e.classForSharedInput=null,e.validateNumber=function(e){return new RegExp("^\\d+$").test(e)},e.onSelectHandlerForUserAndBorrower=function(t,r){var s=Object.keys(e.props.userGraph),n=s.indexOf(t),a=0,l=Object(le.a)({},e.state);"User"===r?(l.currentUser=t,s.splice(n,1),"No one"!==l.borrower&&(a=s.indexOf(l.borrower),s.splice(a,1))):(l.borrower=t,s.splice(n,1),"Who are you?"!==l.currentUser&&(a=s.indexOf(l.currentUser),s.splice(a,1))),e.setState(Object(le.a)(Object(le.a)({},l),{},{userList:Object(ae.a)(s)}))},e.onSelectHandlerForSplitter=function(t){var r=Object(le.a)(Object(le.a)({},e.state),{},{userList:Object(ae.a)(e.state.userList)});"Equally"===t?(r.currentUserShare=r.borrowerShare=Math.round(parseInt(r.total_expense)/2).toString(),r.isSharedInputValid=!0,r.showManualSplitter=!1):"Manually"===t?(r.showManualSplitter=!0,r.isSharedInputValid=!1):"You owe the full amount"===t?(r.isSharedInputValid=!0,r.showManualSplitter=!1,r.currentUserOwed=r.total_expense):(r.borrowerShare=r.total_expense,r.isSharedInputValid=!0,r.showManualSplitter=!1),e.setState(Object(le.a)(Object(le.a)({},r),{},{splitHow:t}))},e.onChangeHandler=function(t,r){if("expense"===r)e.validateNumber(t.target.value)?(e.classForExpenseInput=null,e.setState({total_expense:t.target.value,isExpenseInputValid:!0})):(e.classForExpenseInput="formControl",e.setState({isExpenseInputValid:!1}));else if(e.validateNumber(t.target.value)&&parseInt(t.target.value)<parseInt(e.state.total_expense)){var s=(parseInt(e.state.total_expense)-parseInt(t.target.value)).toString();e.classForSharedInput=null,e.setState({borrowerShare:t.target.value,isSharedInputValid:!0,currentUserShare:s})}else e.classForSharedInput="formControl",e.setState({isSharedInputValid:!1})},e.submitStatusHandler=function(){return!("No one"!==e.state.borrower||!e.state.isExpenseInputValid||"Who are you?"===e.state.currentUser)||!("No one"===e.state.borrower||!e.state.isExpenseInputValid||!e.state.isSharedInputValid&&"Equally"!==e.state.splitHow&&"You owe the full amount"!==e.state.splitHow&&e.state.splitHow!==e.state.borrower+" owes the full amount")},e.localOnClickHandlerForUser=function(){var t={currentUser:e.state.currentUser,borrower:e.state.borrower,currentUserShare:"No one"!==e.state.borrower?e.state.currentUserShare:e.state.total_expense,borrowerShare:e.state.borrowerShare,splitHow:e.state.splitHow,currentUserOwed:e.state.currentUserOwed};e.props.onClickHandler(t),e.props.history.prev="/userExpenseContainer",e.props.history.modalContent="The one to one user expense was added successfully, please use the search to confirm.",e.props.history.push("/searchUser")},e}return Object(S.a)(r,[{key:"render",value:function(){var e=this;return Object(U.jsx)(n.a.Fragment,{children:Object(U.jsx)(fe,{currentUser:this.state.currentUser,borrower:this.state.borrower,userList:this.state.userList,handleSelectForUser:function(t){return e.onSelectHandlerForUserAndBorrower(t,"User")},handleSelectForBorrower:function(t){return e.onSelectHandlerForUserAndBorrower(t,"Borrower")},handleSelectForSplitter:function(t){return e.onSelectHandlerForSplitter(t)},onChangeHandler:function(t){return e.onChangeHandler(t,"expense")},onChangeHandlerforManual:function(t){return e.onChangeHandler(t,"shared")},submitStatus:this.submitStatusHandler(),onClicked:this.localOnClickHandlerForUser,classForExpenseInput:this.classForExpenseInput,classForSharedInput:this.classForSharedInput,showManualSplitter:this.state.showManualSplitter})})}}]),r}(s.Component),ve=Object(i.b)((function(e){return{userGraph:e}}),(function(e){return{onClickHandler:function(t){e({type:"update_expense",expense_obj:t})}}}))(Object(f.g)(we)),ye=r(114),Ce=r(82),Ue=r.n(Ce),Ie=function(e){var t=e.groupUserList.map((function(e,t){return Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsx)("td",{children:e})]},t)}));return Object(U.jsxs)(ye.a,{striped:!0,bordered:!0,hover:!0,className:Ue.a.table,children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"User No."}),Object(U.jsx)("th",{children:e.head})]})}),Object(U.jsx)("tbody",{children:t})]})},He=["placement","arrowProps","show","popper"],_e=function(e){var t=Object(s.useRef)(null);return Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{children:Object(U.jsx)(de,{title:e.currentUser,handleSelect:e.handleSelectForUser,size:"lg",children:e.userList})}),Object(U.jsx)(ee.a,{children:Object(U.jsx)(de,{title:"Select other users",size:"lg",handleSelect:e.onSelect,children:e.children})}),Object(U.jsx)(ee.a,{})]}),e.showTable?Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(Ie,{head:"User Name",groupUserList:e.groupUserList}),Object(U.jsx)(ee.a,{})]}):null,e.groupUserList.length>1?Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsxs)(ee.a,{children:[Object(U.jsx)(V.a.Label,{children:Object(U.jsx)("h5",{className:be.a.label,children:"Enter Expense:"})}),Object(U.jsxs)(xe.a,{style:{marginBottom:"10px"},className:"mb-2",children:[Object(U.jsx)(xe.a.Prepend,{children:Object(U.jsx)(xe.a.Text,{children:"Rs"})}),Object(U.jsx)(Oe.a,{className:be.a[e.classForExpenseInput],id:"inlineFormInputGroup",onChange:e.onChangeForGp,ref:t})]}),Object(U.jsx)(Se.a,{target:t.current,show:!!e.classForExpenseInput||null,placement:"right",children:function(e){e.placement,e.arrowProps,e.show,e.popper;var t=Object(oe.a)(e,He);return Object(U.jsx)("div",Object(le.a)(Object(le.a)({},t),{},{style:Object(le.a)({backgroundColor:"rgba(255, 100, 100, 0.85)",padding:"2px 10px",color:"white",borderRadius:3},t.style),children:"Please enter a valid integer."}))}})]}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{children:Object(U.jsx)(V.a.Label,{style:{marginTop:"45px"},children:Object(U.jsxs)("h5",{className:be.a.label,children:["Your Share: Rs ",e.currentUserShare]})})}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}),Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(de,{title:e.groupSplitMethod,size:"lg",handleSelect:e.onSelectforSplitter,children:["Equally","Manually","Group owes the entire amount equally"]}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]})]}):null,e.showManualSplitter?e.groupUserList.map((function(t,r){return Object(U.jsxs)(X.a,{style:{marginTop:"30px"},children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsxs)(ee.a,{children:[Object(U.jsx)(V.a.Label,{children:Object(U.jsxs)("h5",{className:be.a.label,children:["Enter amount to be lent to ",t,":"]})}),Object(U.jsxs)(xe.a,{className:"mb-2",children:[Object(U.jsx)(xe.a.Prepend,{children:Object(U.jsx)(xe.a.Text,{children:"Rs"})}),Object(U.jsx)(Oe.a,{className:be.a[e.classForSharedInputArr[r]],onChange:function(t){return e.onChangeforGpManual(t,r)}})]})]}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]},r)})):null,Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(H.a,{disabled:!e.submitStatus,onClick:e.onClick,className:be.a.button,variant:"primary",size:"lg",block:!0,children:"Submit"}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]})]})},ke=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(O.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={currentUser:"Who are you?",userList:Object.keys(e.props.userGraph),total_expense:null,currentUserShare:"0",isExpenseInputValid:!1,isSharedInputValid:!1,showManualSplitter:!1,showTable:!1,groupUserList:[],groupSplitMethod:"Split How?",borrowerShareArr:[],eqBorrowerShare:"0"},e.classForExpenseInput=null,e.classForSharedInputArr=[],e.validateNumber=function(e){return new RegExp("^\\d+$").test(e)},e.onChangeHandler=function(t){e.validateNumber(t.target.value)?(e.classForExpenseInput=null,e.setState({total_expense:t.target.value,isExpenseInputValid:!0})):(e.classForExpenseInput="formControl",e.setState({isExpenseInputValid:!1}))},e.selectHandlerForCurrentUser=function(t){var r=Object.keys(e.props.userGraph),s=r.indexOf(t),n=Object(le.a)(Object(le.a)({},e.state),{},{userList:r,groupUserList:Object(ae.a)(e.state.groupUserList),currentUser:t});r.splice(s,1),e.setState(Object(le.a)({},n))},e.onSelectHandlerForGroup=function(t){var r=Object(ae.a)(e.state.groupUserList),s=Object(ae.a)(e.state.userList),n=s.indexOf(t);s.splice(n,1),e.classForSharedInputArr.push(null),r.push(t),e.setState({groupUserList:Object(ae.a)(r),userList:Object(ae.a)(s),showTable:!0})},e.splitHandlerForGroup=function(t){var r=Object(ae.a)(e.state.groupUserList),s=0;"Equally"===t?(s=Math.round(parseInt(e.state.total_expense)/(r.length+1)),e.setState({eqBorrowerShare:s.toString(),currentUserShare:s.toString(),groupSplitMethod:t,showManualSplitter:!1})):"Group owes the entire amount equally"===t?(s=Math.round(parseInt(e.state.total_expense)/r.length),e.setState({eqBorrowerShare:s.toString(),currentUserShare:"0",groupSplitMethod:t,showManualSplitter:!1})):e.setState({showManualSplitter:!0,groupSplitMethod:t,currentUserShare:"0"})},e.onChangeHandlerForGpManual=function(t,r){var s=Object(ae.a)(e.state.borrowerShareArr);s[r]=t.target.value;var n=parseInt(e.state.total_expense),a=!1;if(e.validateNumber(t.target.value)){var l=s.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);if(l<=n)return e.classForSharedInputArr[r]=null,a=!0,void e.setState({borrowerShareArr:Object(ae.a)(s),isSharedInputValid:a,currentUserShare:(n-l).toString()})}e.classForSharedInputArr[r]="formControl",e.setState({isSharedInputValid:a})},e.submitStatusHandlerForGroup=function(){return!("Equally"!==e.state.groupSplitMethod&&"Group owes the entire amount equally"!==e.state.groupSplitMethod||!e.state.isExpenseInputValid)||!("Manually"!==e.state.groupSplitMethod||!e.state.isSharedInputValid||!e.state.isExpenseInputValid)},e.localOnClickHandler=function(){var t={currentUser:e.state.currentUser,currentUserShare:e.state.currentUserShare,groupUserList:e.state.groupUserList,borrowerShareArr:e.state.borrowerShareArr,groupSplitMethod:e.state.groupSplitMethod,eqBorrowerShare:e.state.eqBorrowerShare};e.props.onClickHandler(t),e.props.history.prev="/groupExpenseContainer",e.props.history.modalContent="The group expense was added successfully, please use the search to confirm.",e.props.history.push("/searchUser")},e}return Object(S.a)(r,[{key:"render",value:function(){var e=this;return Object(U.jsx)(n.a.Fragment,{children:Object(U.jsx)(_e,{groupUserList:this.state.groupUserList,userList:this.state.userList,currentUser:this.state.currentUser,currentUserShare:this.state.currentUserShare,showTable:this.state.showTable,handleSelectForUser:function(t){return e.selectHandlerForCurrentUser(t)},onSelect:function(t){return e.onSelectHandlerForGroup(t)},onChangeForGp:function(t){return e.onChangeHandler(t)},onSelectforSplitter:function(t){return e.splitHandlerForGroup(t)},onChangeforGpManual:this.onChangeHandlerForGpManual,submitStatus:this.submitStatusHandlerForGroup(),groupSplitMethod:this.state.groupSplitMethod,classForExpenseInput:this.classForExpenseInput,classForSharedInput:this.classForSharedInput,classForSharedInputArr:this.classForSharedInputArr,showManualSplitter:this.state.showManualSplitter,onClick:this.localOnClickHandler,children:this.state.userList})})}}]),r}(s.Component),Fe=Object(i.b)((function(e){return{userGraph:e}}),(function(e){return{onClickHandler:function(t){e({type:"update_group_expense",expense_obj:t})}}}))(Object(f.g)(ke)),Ee=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(O.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={splitWith:"Split With?"},e.finalExpenseDisplay=function(){var t=e.state.splitWith;return"Split With?"===t?Object(U.jsx)(de,{title:t,size:"lg",handleSelect:function(t){return e.setState({splitWith:t})},children:["Single User","Group"]}):"Single User"===t?Object(U.jsx)(ve,{}):Object(U.jsx)(Fe,{})},e}return Object(S.a)(r,[{key:"render",value:function(){return Object(U.jsx)(n.a.Fragment,{children:this.finalExpenseDisplay()})}}]),r}(s.Component),Ne=["placement","arrowProps","show","popper"],Le=function(e){var t=Object(s.useRef)(null);return Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{children:Object(U.jsx)(de,{title:e.borrower,handleSelect:e.handleSelectForBorrower,size:"lg",children:e.userList})}),Object(U.jsx)(ee.a,{children:Object(U.jsx)("h5",{className:be.a.para,children:"want's to settle due with"})}),Object(U.jsx)(ee.a,{children:Object(U.jsx)(de,{title:e.lender,handleSelect:e.handleSelectForLender,size:"lg",children:e.lenderList})}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}),"Settle With?"!==e.lender?Object(U.jsxs)(n.a.Fragment,{children:[Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsxs)(ee.a,{children:[Object(U.jsx)(V.a.Label,{style:{marginTop:"20px"},children:Object(U.jsx)("h5",{className:be.a.label,children:"Enter Amount to be settled:"})}),Object(U.jsxs)(xe.a,{style:{marginBottom:"10px"},className:"mb-2",children:[Object(U.jsx)(xe.a.Prepend,{children:Object(U.jsx)(xe.a.Text,{children:"Rs"})}),Object(U.jsx)(Oe.a,{className:be.a[e.classForExpenseInput],ref:t,id:"inlineFormInputGroup",onChange:e.onChangeHandler})]}),Object(U.jsx)(Se.a,{target:t.current,show:!!e.classForExpenseInput||null,placement:"right",children:function(e){e.placement,e.arrowProps,e.show,e.popper;var t=Object(oe.a)(e,Ne);return Object(U.jsxs)("div",Object(le.a)(Object(le.a)({},t),{},{style:Object(le.a)({backgroundColor:"rgba(255, 100, 100, 0.85)",padding:"2px 10px",color:"white",borderRadius:3},t.style),children:["Please enter a valid integer and ",Object(U.jsx)("br",{})," an amount less than or equal ",Object(U.jsx)("br",{})," to the owed value"]}))}})]}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}),Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(H.a,{disabled:!e.submitStatus,onClick:e.onClicked,className:be.a.button,variant:"primary",size:"lg",block:!0,children:"Submit"}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]}),Object(U.jsx)(X.a,{children:Object(U.jsx)("h5",{style:{margin:"auto",marginBottom:"25px"},children:"OR"})}),Object(U.jsxs)(X.a,{children:[Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(H.a,{onClick:e.settleAllClick,className:be.a.button,variant:"primary",size:"lg",block:!0,children:"Settle All"}),Object(U.jsx)(ee.a,{}),Object(U.jsx)(ee.a,{})]})]}):null]})},Me=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(O.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={userList:Object.keys(e.props.userGraph),borrower:"Who Are You?",lender:"Settle With?",lenderList:[],currentSettleAmt:"0",totalSettleAmt:"0",isExpenseInputValid:!1},e.classForExpenseInput=null,e.validateNumber=function(e){return new RegExp("^\\d+$").test(e)},e.borrowerSelectHandler=function(t){var r=[],s=Object(le.a)({},e.props.userGraph);for(var n in s)n!==t&&t in s[n.toString()].neighbours&&r.push(n);e.setState({borrower:t,lenderList:r})},e.lenderSelectHandler=function(t){var r=Object(le.a)({},e.props.userGraph),s=e.state.borrower;e.setState({lender:t,totalSettleAmt:r[t.toString()].neighbours[s]})},e.onAmtChangeHandler=function(t){if(e.validateNumber(t.target.value)&&parseInt(t.target.value)<=parseInt(e.state.totalSettleAmt))return e.classForExpenseInput=null,void e.setState({currentSettleAmt:t.target.value,isExpenseInputValid:!0});e.classForExpenseInput="formControl",e.setState({isExpenseInputValid:!1})},e.submitStatusHandler=function(){return!!e.state.isExpenseInputValid},e.localOnClickHandler=function(t){var r={};"partial"===t?(r={lender:e.state.lender,borrower:e.state.borrower,currentSettleAmt:e.state.currentSettleAmt,totalSettleAmt:e.state.totalSettleAmt},e.props.onClickHandler(r),e.props.history.modalContent="Partial due settlement completed successfully, please use the search to confirm."):(r={lender:e.state.lender,borrower:e.state.borrower},e.props.settleAllClickHandler(r),e.props.history.modalContent="Complete due settlement was successfull, please use the search to confirm."),e.props.history.prev="/settleUp",e.props.history.push("/searchUser")},e}return Object(S.a)(r,[{key:"render",value:function(){var e=this;return Object(U.jsx)(n.a.Fragment,{children:Object(U.jsx)(Le,{borrower:this.state.borrower,lender:this.state.lender,userList:this.state.userList,lenderList:this.state.lenderList,classForExpenseInput:this.classForExpenseInput,handleSelectForBorrower:function(t){return e.borrowerSelectHandler(t)},handleSelectForLender:function(t){return e.lenderSelectHandler(t)},onChangeHandler:function(t){return e.onAmtChangeHandler(t)},submitStatus:this.submitStatusHandler(),settleAllClick:function(){return e.localOnClickHandler("all")},onClicked:function(){return e.localOnClickHandler("partial")}})})}}]),r}(s.Component),Ge=Object(i.b)((function(e){return{userGraph:e}}),(function(e){return{onClickHandler:function(t){e({type:"settle_due",expense_obj:t})},settleAllClickHandler:function(t){e({type:"settle_due_all",expense_obj:t})}}}))(Object(f.g)(Me)),Ae=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(e){var s;Object(O.a)(this,r),(s=t.call(this,e)).onSelectHandler=function(e){for(var t=s.props.userGraph[e.toString()].neighbours,r=Object.keys(t).map((function(r){return e+" has lent Rs "+t[r.toString()]+" to "+r})),n=[],a=0;a<s.state.userList.length;a++){var l=s.state.userList[a],o=s.props.userGraph[l.toString()].neighbours,c="";l!==e&&e in o&&(c=e+" has borrowed Rs "+o[e.toString()]+" from "+l,n.push(c))}s.setState({userExpenseList:r.concat(n),showSearchResult:!0,userName:e})},s.onModalCloseHandler=function(){s.setState({showModal:!1})};var n=!1,a="";return void 0!==s.props.history.prev&&(n=!0,a=s.props.history.modalContent,delete s.props.history.prev,delete s.props.history.modalContent),s.state={showModal:n,modContent:a,showSearchResult:!1,userList:Object.keys(s.props.userGraph),userExpenseList:null,userName:null},s}return Object(S.a)(r,[{key:"render",value:function(){var e=this;return Object(U.jsxs)("div",{children:[Object(U.jsxs)(N,{show:this.state.showModal,title:"Operation Completed",handleClose:this.onModalCloseHandler,children:[" ",this.state.modContent," "]}),Object(U.jsx)(de,{title:"Select User",handleSelect:function(t){return e.onSelectHandler(t)},size:"lg",children:this.state.userList}),this.state.showSearchResult?Object(U.jsx)(Q,{expList:this.state.userExpenseList,title:"Expense list for "+this.state.userName,text:"Total individual expense: Rs "+this.props.userGraph[this.state.userName.toString()].tExpense}):null]})}}]),r}(s.Component),Ve=Object(i.b)((function(e){return{userGraph:e}}))(Ae),Re=r(83),Te=r.n(Re),ze=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(O.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1,userList:Object.keys(e.props.userGraph),userName:"Select User",showButton:!1},e.onSelectHandler=function(t){e.setState({userName:t,showButton:!0})},e.onClickHandler=function(){e.props.onDeleteHandler(e.state.userName);var t=Object.keys(e.props.userGraph),r=t.indexOf(e.state.userName);t.splice(r,1),e.setState({showModal:!0,userList:t})},e.onModalCloseHandler=function(){e.setState({showModal:!1,showButton:!1,userName:"Select User"})},e}return Object(S.a)(r,[{key:"render",value:function(){var e=this;return Object(U.jsxs)("div",{children:[Object(U.jsxs)(N,{show:this.state.showModal,title:"User deleted successfully.",handleClose:this.onModalCloseHandler,children:[" ","The user ",this.state.userName," was deleted successfully, please verify by searching."," "]}),Object(U.jsx)(de,{title:this.state.userName,handleSelect:function(t){return e.onSelectHandler(t)},size:"lg",children:this.state.userList}),this.state.showButton?Object(U.jsx)(H.a,{onClick:this.onClickHandler,className:Te.a.button,variant:"primary",size:"lg",block:!0,children:"Delete User"}):null]})}}]),r}(s.Component),Be=Object(i.b)((function(e){return{userGraph:e}}),(function(e){return{onDeleteHandler:function(t){e({type:"delete_user",delete_username:t})}}}))(ze),Pe=function(e){Object(g.a)(r,e);var t=Object(m.a)(r);function r(){return Object(O.a)(this,r),t.apply(this,arguments)}return Object(S.a)(r,[{key:"render",value:function(){return Object(U.jsxs)(f.d,{children:[Object(U.jsx)(f.b,{path:"/",exact:!0,component:M}),Object(U.jsx)(f.b,{path:"/addUser",exact:!0,component:q}),Object(U.jsx)(f.b,{path:"/userDetails",exact:!0,component:ne}),Object(U.jsx)(f.b,{path:"/addExpense",exact:!0,component:Ee}),Object(U.jsx)(f.b,{path:"/settleUp",exact:!0,component:Ge}),Object(U.jsx)(f.b,{path:"/searchUser",exact:!0,component:Ve}),Object(U.jsx)(f.b,{path:"/deleteUser",exact:!0,component:Be}),Object(U.jsx)(f.a,{to:"/"})]})}}]),r}(s.Component),qe=Object(c.a)(x);o.a.render(Object(U.jsx)(a.a,{children:Object(U.jsx)(i.a,{store:qe,children:Object(U.jsx)(Pe,{})})}),document.getElementById("root"))},17:function(e,t,r){e.exports={para:"expense_para__2gS1F",label:"expense_label__3d5iS",button:"expense_button__2Fx3M",formControl:"expense_formControl__1weuS",dropdown:"expense_dropdown__144UJ"}},35:function(e,t,r){e.exports={button:"homepage_button__1cXaP"}},71:function(e,t,r){e.exports={input:"input_input__3ZWSk",h3:"input_h3__i2Tae"}},73:function(e,t,r){e.exports={headings:"header_headings__2aAyF"}},78:function(e,t,r){e.exports={button:"adduser_button__3mSZ0"}},79:function(e,t,r){e.exports={card:"card_card__27Y2Z"}},80:function(e,t,r){e.exports={row:"getUserDetails_row__3gL_w"}},81:function(e,t,r){e.exports={dropdown:"dropdown_dropdown__8Bgy1"}},82:function(e,t,r){e.exports={table:"table_table__3QdRH"}},83:function(e,t,r){e.exports={button:"deleteUser_button__2zhUW"}},97:function(e,t,r){}},[[105,1,2]]]);
//# sourceMappingURL=main.a711b9f8.chunk.js.map